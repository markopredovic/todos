(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e,t,n){e.exports=n(41)},22:function(e,t,n){},23:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var o=n(0),a=n.n(o),r=n(14),c=n.n(r),d=(n(22),n(15)),i=(n(23),Object(o.createContext)({todos:[],addTodo:function(){},removeTodo:function(){},toggleTodo:function(){}})),u=function(){var e=Object(o.useRef)(null),t=Object(o.useContext)(i);return a.a.createElement("form",{onSubmit:function(n){n.preventDefault(),console.log(e.current.value);var o={id:Date.now(),name:e.current.value,isCompleted:!1};t.addTodo(o),e.current.value=null}},a.a.createElement("input",{type:"text",placeholder:"add todo...",ref:e}),a.a.createElement("button",{type:"submit"},"add todo"))},l=function(e){var t=e.id,n=e.name,r=e.isCompleted,c=e.parentId,d=Object(o.useContext)(i);return a.a.createElement("div",null,a.a.createElement("span",{onClick:function(){return d.toggleTodo({id:t,name:n,isCompleted:!r,parentId:c})},style:{textDecoration:r?"line-through":"inherit"}},n),a.a.createElement("button",{onClick:function(){return d.removeTodo(c)},style:{marginLeft:"10px"}},"x"))},s=function(){var e=Object(o.useContext)(i),t="Loading...";return e.todos&&(t=e.todos.map(function(e){return a.a.createElement(l,Object.assign({key:e.parentId},e))})),a.a.createElement("div",null,t)},p=n(4),m=n(3),f=function(e,t){switch(t.type){case"ADD_TODO":return Object(m.a)({},e,{todos:[].concat(Object(p.a)(e.todos),[t.payload])});case"REMOVE_TODO":return O(e,t.payload);case"TOGGLE_TODO":return b(e,t.payload);case"GET_LIST":return Object(m.a)({},e,{todos:t.payload});default:return e}},O=function(e,t){var n=Object(p.a)(e.todos),o=n.findIndex(function(e){return e.parentId===t});return n.splice(o,1),Object(m.a)({},e,{todos:n})},b=function(e,t){var n=Object(p.a)(e.todos).map(function(e){return e.id===t.id?{id:e.id,name:e.name,isCompleted:t.isCompleted,parentId:e.parentId}:e});return Object(m.a)({},e,{todos:n})},v=n(2),h=n.n(v),E=function(){var e=Object(o.useReducer)(f,{todos:[{id:1,name:"REact learning",isCompleted:!1}]}),t=Object(d.a)(e,2),n=t[0],r=t[1];Object(o.useEffect)(function(){h.a.get("https://react-proba.firebaseio.com/todos.json").then(function(e){return e.data}).then(function(e){var t=[];for(var n in e){var o=e[n];o.parentId=n,t.push(o)}r({type:"GET_LIST",payload:t})})},[]);return a.a.createElement(i.Provider,{value:{todos:n.todos,addTodo:function(e){h.a.post("https://react-proba.firebaseio.com/todos.json",{id:e.id,name:e.name,isCompleted:!1}).then(function(e){return e.data}).then(function(t){e.parentId=t.name,r({type:"ADD_TODO",payload:e})})},removeTodo:function(e){h.a.delete("https://react-proba.firebaseio.com/todos/".concat(e,".json")).then(function(){r({type:"REMOVE_TODO",payload:e})})},toggleTodo:function(e){h.a.patch("https://react-proba.firebaseio.com/todos/".concat(e.parentId,".json"),{isCompleted:e.isCompleted}).then(function(){r({type:"TOGGLE_TODO",payload:e})})}}},a.a.createElement("div",{className:"App"},a.a.createElement("h1",null,"Todo list"),a.a.createElement(u,null),a.a.createElement(s,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(E,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[16,1,2]]]);
//# sourceMappingURL=main.c6f3e85c.chunk.js.map